# Azure Virtual Network - Terraform Module
## Examples
Examples can be found in **examples** folder
## Parameters

The following parameters are supported:

| Name                       | Description                                                                                                                                       |        Type         | Default | Required |
| -------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------- | :-----------------: | :-----: | :------: |
| use_ipam                       | Use Azure IPAM for obtaining IP block.                                                                                                                  |      `bool`       |   false   |   yes    |
| name                       | The name of the virtual network.                                                                                                                  |      `string`       |   n/a   |   yes    |
| resource\_group\_name      | The name of the resource group in which to create the virtual network.                                                                            |      `string`       |   n/a   |   yes    |
| address\_space             | The address space that is used in the virtual network. More than one address space can be provisioned.                                            |   `list(string)`    |   n/a   |   yes    |
| vnet\_mask             | If use_ipam is true - mask of IP block using for vnet.                                            |   `number`    |   n/a   |   yes    |
| dns\_servers               | List of IP addresses of DNS servers.                                                                                                              |   `list(string)`    |  `[]`   |    no    |
| ddos\_protection\_plan\_id | The ID of DDoS Protection Plan.                                                                                                                   |      `string`       | `null`  |    no    |
| bgp\_community             | The BGP community attribute in format `<as-number>:<community-value>`. The as-number segment is the Microsoft ASN, which is always 12076 for now. |      `string`       | `null`  |    no    |
| subnets                    | List of objects that represent the configuration of each subnet.                                                                                  | `list(map(string))` |  `[]`   |    no    |
| tags                       | A mapping of tags to assign to the resource.                                                                                                      |    `map(string)`    |  `{}`   |    no    |

The `subnets` supports the following:

| Name                                           | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |      Type      | Default | Required |
| ---------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :------------: | :-----: | :------: |
| name                                           | The name of the subnet.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |    `string`    |   n/a   |   yes    |
| address\_prefixes                              | The address prefix/es to use for the subnet.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | `list(string)` |   n/a   |   yes    |
| snet\_mask             | If use_ipam is true - mask of IP block using for subnet.                                            |   `number`    |   n/a   |   yes    |
| service\_endpoints                             | The list of Service endpoints to associate with the subnet. Possible values include: `Microsoft.AzureActiveDirectory`, `Microsoft.AzureCosmosDB`, `Microsoft.ContainerRegistry`, `Microsoft.EventHub`, `Microsoft.KeyVault`, `Microsoft.ServiceBus`, `Microsoft.Sql`, `Microsoft.Storage` and `Microsoft.Web`.                                                                                                                                                                                                                                                                                                        | `list(string)` | `null`  |    no    |
| delegation                                     | The name of service to delegate to. Possible values include `Microsoft.BareMetal/AzureVMware`, `Microsoft.BareMetal/CrayServers`, `Microsoft.Batch/batchAccounts`, `Microsoft.ContainerInstance/containerGroups`, `Microsoft.Databricks/workspaces`, `Microsoft.DBforPostgreSQL/serversv2`, `Microsoft.HardwareSecurityModules/dedicatedHSMs`, `Microsoft.Logic/integrationServiceEnvironments`, `Microsoft.Netapp/volumes`, `Microsoft.ServiceFabricMesh/networks`, `Microsoft.Sql/managedInstances`, `Microsoft.StreamAnalytics/streamingJobs`, `Microsoft.Web/hostingEnvironments` and `Microsoft.Web/serverFarms` |    `string`    | `null`  |    no    |
| enforce_private_link_service_network_policies  | Enable or Disable network policies for the private link service on the subnet. Conflicts with `enforce_private_link_endpoint_network_policies`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |     `bool`     |  false  |    no    |
| enforce_private_link_endpoint_network_policies | Enable or Disable network policies for the private link endpoint on the subnet. Conflicts with `enforce_private_link_service_network_policies`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |     `bool`     |  false  |    no    |

